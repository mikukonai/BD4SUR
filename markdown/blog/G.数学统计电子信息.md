#!title:    G.数学统计电子信息
#!date:     
#!authors:  
#!cover:    
#!type:     
#!tags:     

#!content

# 拾零

- #(本福特定律)#：可用于检查财务造假。
- [#(Chaitin常数)#](https://en.wikipedia.org/wiki/Chaitin%27s_constant)
- [#(布隆过滤器)#](https://zh.wikipedia.org/wiki/%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8)
- #(时序攻击)#
- [#(数字微镜器件)#](https://en.wikipedia.org/wiki/Digital_micromirror_device)
- #(AT命令集)#（#(海斯命令集)#）
- [#(安提基特拉机械)#](https://zh.wikipedia.org/wiki/%E5%AE%89%E6%8F%90%E5%9F%BA%E7%89%B9%E6%8B%89%E6%9C%BA%E6%A2%B0)

# 一些具有滞回特性的东西

一对儿咬合不紧密的齿轮、施密特触发器、磁性材料（滞回线）

# 证明的陷阱

- 录入时间：2020-11-22
- 来源：见水印

![ ](./image/G2/common-proof-techniques.jpg)

**幸存者偏差的实例** 二战期间，美国军方对返航轰炸机的机身中弹情况进行了研究，并打算对中弹最多的部位（比如机翼）加装额外装甲。但哥伦比亚大学的匈牙利数学家亚伯拉罕·沃德却指出，应该对中弹最少的部分（比如发动机）加装额外装甲，因为那些部位之所以中弹少，是由于一中弹就往往机毁人亡，而那些中弹最多的部位，恰恰是因为抗打击能力较强，中弹也能返航，才有机会被注意到。沃德所指出的这一因素被称为“幸存者偏差”，忽略这种偏差是很多错误推理的源泉。（2021-03-25 卢昌海微博）

# 曲线拟合

- 录入时间：2021-03-24
- 来源：Twitter xkcd

![ ](./image/G3/curve-fitting.png)

# “准确”和“精确”

- 录入时间：2021-03-24
- 来源：见水印

![ ](./image/G3/accurate-and-precise.png)

# 有关“定理”的几个词的区别

整理于2020.5.2，[来源](http://blog.sina.com.cn/s/blog_4b3651ad0101nk4o.html)。

- **Theorem 定理**：是文章中重要的数学化的论述，一般有严格的数学证明。
- **Proposition 命题**：经过证明且interesting，但没有Theorem重要，比较常用。
- **Lemma 引理**：一种比较小的定理，通常lemma的提出是为了来逐步辅助证明Theorem，有时候可以将Theorem拆分成多个小的Lemma来逐步证明，以使得证明的思路更加清晰。很少情况下Lemma会以其自身的形式存在。
- **Corollary 推论**：由Theorem推出来的结论，通常我们会直接说this is a corollary of Theorem A。
- **Property 性质**：结果值得一记，但是没有Theorem深刻。
- **Claim 陈述**：先论述然后会在后面进行论证，可以看作非正式的lemma。
- **Note**：就是注解。
- **Remark**：涉及到一些结论，相对而言，Note像是说明，而Remark则是非正式的定理。
- **Conjecture 猜想**：一个未经证明的论述，但是被认为是真。
- **Axiom/Postulate 公理**：不需要证明的论述，是所有其他Theorem的基础。

# 高斯的确是神一般的存在

[出处](https://www.zhihu.com/question/36329536/answer/300635088)

- 高斯能被0整除。
- 高斯能完整地背出圆周率——是倒着背。
- 高斯口渴时会用巴拿赫-塔斯基悖论弄出更多橙汁。
- 高斯不能理解随机过程，因为他能预测随机数。
- 高斯小时候，老师让他算从1到100的和。他计算了这个无穷级数的和，然后一个一个地减去从100开始的所用自然数。而且，是心算。
- 一位数学家、一位物理学家、一位工程师走进酒吧，酒吧招待说：“您好，高斯教授。”
- 有一次，高斯和自己玩了一个零和游戏，然后赢了 50 块钱。
- 有一次，费马惹怒了高斯，于是就有了费马最终定理。
- 询问高斯一个命题是真的还是假的，构成了一个严格的证明。
- 有一次高斯证明了一条公理，但他不喜欢它，所以他又证明了它是假命题。
- 高斯通过在证明结束时省去“证明完毕”来保护热带雨林。
- 有一次高斯在森林里迷路了，于是他加了几条边把它变成了一棵树。
- 高斯用奥卡姆剃刀剃胡子。
- 上帝不掷骰子，除非高斯答应让他赢一次。
- 空集的定义是高斯无法证明的定理的集合。
- 高斯不承认复数（complex number），因为他们太简单了。
- 费马认为他的书的边缘太小，写不下费马大定理的证明。高斯找到了一个证明，对这个证明而言那本书的边缘太大了。
- 数学家常常把证明留给读者作为习题；只有高斯把证明留给上帝作为习题。
- 当哥德尔听说了高斯能证明一切命题，他让高斯证明“存在高斯不能证明的命题”高斯证出来了，但还是不存在他不能证明的命题。量子态就是这样产生的。
- 高斯钢笔里的墨水能治癌症。遗憾的是，高斯的一切计算都在头脑中进行，他不用钢笔。
- 高斯是这样证明良序定理的：他瞪着那个集合，直到集合中的元素出于纯粹的恐惧而排成一排。
- 上帝创造了自然数。其它的都是高斯的作品。
- 高斯不使用拉格朗日乘数法，因为对他而言根本不存在约束条件。
- 没有诺贝尔数学奖，因为第一年高斯就把所有奖金拿走了。
- Erdos相信上帝手中有一本包含世间所有精妙证明的天书。上帝相信这本书在高斯手上。
- 高斯不用任何公理就能证明一个定理。
- 高斯从后往前列举了一下质数，就知道了质数有无穷多。
- 高斯从来不会用光书本页面边缘的空白。
- 高斯做俯卧撑时，他不是把自己撑起来，而是把整个地球按下去。
- 读了高斯的书之后，Maxwell决定退出数学界转而从事咖啡行业。
- 尽管微积分在高斯生前 100 年诞生，但高斯仍然发明了微积分。
- 只有高斯才知道薛定谔的猫是死是活——他甚至都不需要观察。
- 高斯不仅知道薛定谔的猫是死是活，而且还知道那只猫戴了什么样的项圈。
- 海森堡之所以发现了不确定性原理是因为他不能像高斯一样确定每一件事情。
- 高斯的冰淇淋能达到绝对零度。
- 高斯知道下一个随机数是多少。
- 物理定律为了躲避高斯的智慧，所以有了星际迷航里隐藏起来的中立区。
- 高斯家里的铜线可以实现常温超导。
- 起初地球上没有数学。高斯说：要有数学，就有了数学。高斯看数学是好的，就把数学和其他东西分开了。——这是头一日。
- 高斯用自己的小拇指作为工具就测出了日地距。
- 高斯解出了N-S方程——通过手算。
- 高斯的母亲从来没有向高斯说过高斯的生日，高斯可以自己计算出来。
- 如果高斯认为两者没有关系，那么他们就是独立的。
- 宇宙并非在膨胀，它只是在为高斯的想法提供更多的空间。
- 高斯证明了实数多于整数——通过穷举法。
- 平行线可以在任何高斯希望他们相交的地方相交。
- 费马唯一能够证明的是：高斯总是对的。
- 高斯能诚实的告诉别人自己在说谎。
- 当高斯告诉你他是在说谎时，你最好相信。
- 只有两样东西是无限的——宇宙和高斯的智慧。而且，对于前者我还不太确定。——爱因斯坦
- 真不敢相信竟然有人拿高斯和上帝比，怎么说呢，他的确很厉害，但他毕竟不是高斯。
- 高斯能在球面上作出一个平面。
- 晚上，定理们围坐在篝火旁听妈妈讲高斯的故事。
- 对于高斯，函数没有区别，因为他可以分解它们。
- 高斯发明了牛顿和莱布尼茨。
- 当高斯想解决R^4的问题时，一般都是先解决 R^n，然后令 n=4。
- 高斯在用费曼问题解决算法时都是跳过第二步：1写下这个问题；2努力思考；3写出答案。
- 高斯知道不存在任何一个乏味的数（dull number / uninteresting number），因为他知道每一个数的趣味所在。
- 高斯可以把一块磁铁分成两部分并产生两个磁单极子。
- 200年前，高斯发明了第一台64位计算机，但它拖慢了高斯的工作进程。
- 据说在很久很久以前，高斯在宇宙中表演了一个小球的反演。现在的科学家称之为宇宙大爆炸。
- 高斯用克莱因瓶喝酒。
- 高斯不承认不确定性原理，因为他可以确定每一件事情。
- 数学是高斯为了让别人能有所发现而发明的。
- 当高斯令一个正整数增加1时，那个正整数并没有增加，而是其他正整数减少了1。
- 高斯从不走路，当他需要去某地时，他只需要旋转脚下的地球。
- 发散序列当看到高斯在旁边时会收敛。
- 高斯不需要站在巨人的肩膀上就可以看的比任何人都远。
- 高斯可以把农夫、狼、羊、菜送过河，即使河里压根没有船。
- 高斯不明白NP问题，因为他在第一次解决一个问题时用的就是最优解法。
- 高斯证明了1+1=2——通过证明其他所有结果都是错误的。
- 高斯能填满克莱因瓶。
- 现在的发现都是高斯未公开发表的发明。
- 如果高斯说：我找不到反例。那么这就构成了对这个定理的严格证明。
- 数学家利用公理，高斯证明公理。
- 高斯能证明两个定理——仅仅通过一个证明。
- 高斯的Erdos数是-1。
- 据说，黎曼是高斯用来发表自己不是很满意的论文时用的笔名。
- 高斯用归纳法证明了归纳法。
- 高斯发明了比卡诺热机效率还高的机器。
- 高斯能同时精确地测量物体的位置和速度。
- 高斯可以不重复地走遍柯尼斯堡的七座桥。
- 高斯在第一次看到西兰花的时候就发明了分形理论，但是考虑到这个理论太过显而易见，他没有发表这个发明。
- 高斯同时给他自己和罗素剪头发。
- 高斯不需要去同意量子力学和相对论，因为他从一开始就找到了正确的理论。
- 高斯证明了哥德巴赫猜想——通过验证每一种情形。
- 数学家是一台把咖啡转化成数学定理的机器，只有高斯什么都不需要就可以创造数学理论。
- 高斯可以在一块理想导体内部建立电场。
- 高斯可以轻而易举逃离黑洞。
- 高斯能令ε＜0。
- 如果高斯需要到达离他100米的地方，他会先通过100米的一半，然后通过剩下路程的一半，然后再通过剩下的剩下的一半，如此反复……最终，他会到达那里。
- 高斯说过“数学是科学的皇后”，你猜谁是国王？

# 数学家、物理学家和工程师笑话

一个数学家的房子着火了，他找来一个物理学家帮忙将火扑灭了。第二天他发现房子里的天然气泄漏了，他毫不犹豫地点燃了房子。在医院，物理学家问，你为什么要这样做。数学家望着天花板平静地说，这样一来，问题就被转化为一个已经解决了的问题。

工程师的房子着火了，他拿出一个灭火器把火扑灭了。物理学家的房子着火了，他花了半天的时间发明了一种新式灭火器把火扑灭了。数学家的房子着火了，他看了看墙角的灭火器，自言自语道，解是存在的，于是安心地回到床上睡觉去了。

房子着火了，工程师大叫“灭火”，然而火势并没有减弱，于是他大喊 “sudo 灭火”，只见火应声而灭。房子着火了，物理学家拿来消防栓灭火，然而火势并没有减弱，于是他把火藏在了自家地毯下面。房子着火了，数学家盯着火想了很久，火势没有减弱，他自言自语地说，我现在只能够证明4维以上的火能够扑灭。

房子着火了，数学家不幸身亡。第二天人们发现了他遗留的笔记本，上面写着，我找到了一个扑灭大火的绝妙方法，只可惜房子太小我无法实施。

房子着火了，火势很大，消防员找来一个工程师、一个物理学家和一个数学家问他们需要多少个灭火器才能灭掉房子里的火。工程师点燃了附近的20座房子进行了测试，说需要10个。物理学家经过一番计算说需要3个，但同时指出自己的计算仅适用于真空中的各向同性球形房子。数学家经过一番计算，高兴地说，需要的灭火器的个数小于e的700次方。

房子着火了，一个物理学家被困在里面。他向房子外面的人呼救，先生你是否可以救救我。外面的人停留了十分钟以后回答道，当然可以，只要你先从房子里出来。物理学家大喊，该死！你是不是个数学家。路人惊讶地问，你怎么知道。物理学家说，因为你花了很长时间给出了一个完全正确的答案，但它却没有任何用处！

一个数学家到一个物理学家家里做客。中间物理学家的房子着火了，数学家看到物理学家拿出一个圆筒状东西，里面喷出气体把火扑灭了。数学家问，那是什么。物理学家说，噢，那是二氧化碳灭火器，我从工程师那里借过来的，非常方便。数学家听了以后说，我对高斯发誓，根据定义，只有喷水的才叫灭火器，这是我们从欧拉那时候就知道的事情。物理学家只好耸耸肩。过了二十年，物理学家有一次在数学家家里做客发现数学家家里放着一个崭新的二氧化碳灭火器。物理学家问这是什么。数学家兴奋地说，这可是个好东西，我们把它叫做广义灭火器。

物理学家像是旅客，他知道自己的目的地，却不知道做哪辆车到达；数学家像司机，他有一辆车，却不知道自己要去哪里。


# 复指数信号

- 录入时间：2021-03-24

![ ](./image/G1/复指数.jpg)

# 单峰映射的混沌

2018-05-15

<iframe class="MikumarkIframe" src="./html/单峰映射的混沌.html" height="500px"></iframe>

![分枝图](https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/LogisticMap_BifurcationDiagram.png/640px-LogisticMap_BifurcationDiagram.png)

: [单峰映射](https://en.wikipedia.org/wiki/Logistic_map) | [费根鲍姆常数](https://en.wikipedia.org/wiki/Feigenbaum_constants) | [分岔理论](https://zh.wikipedia.org/wiki/%E5%88%86%E5%B2%94%E7%90%86%E8%AB%96)

# 非对称加密

2020年9月16日笔记

![ ](./image/G6/非对称加密.jpg)

非对称加密两个场景，信息保密和身份验证。

- 信息保密：甲给乙发送消息，甲用乙的公钥对消息加密，乙得到密文后，能且只能用自己的私钥解密。这可以保证消息只有甲乙两人知道。
- 身份验证/数字签名：某甲创作了一幅插画，希望证明是自己原创。于是某甲用自己的私钥对原作的摘要进行加密，并将加密后的密文附在原作上作为签名。任何拥有甲的公钥的人，都可以对签名进行解密，得到原作的摘要。这样就证明了以下几件事情：
-- 既然能用甲的公钥解密，证明签名必然是且仅是由某甲的私钥加密的（也就是某甲自己签署的）。
-- 如果解密后的摘要与原作相对应，说明原作是完整的、没有被篡改过的。

# MD5不动点

![该图片的MD5等于图片中显示的数值](./image/G6/md5.gif)

整理于2020.5.3，[参考](https://www.zhihu.com/question/26700222/answer/178320838)。

# 洋葱网络

整理于2020.5.2

**研发动机**：最初发明洋葱路由的需求是，美国国防部和情报机构希望在Internet（公网）上建立一个双向通讯系统，使得即便中间人截获通信的话也无法判定通信的源头与目的地。从一开始，研究人员就意识到仅仅设计一个在技术上能够进行流量匿名的系统是不够的，系统不能仅仅供情报人员使用。为了更好的隐藏情报人员的身份，Tor需要被很多不同的人使用，如异见人士、学生、公司雇员、记者、毒贩、黑客、甚至外国情报机构，这样才能够使得美国的间谍更容易隐蔽起来。

**原理概述**：洋葱路由利用P2P网络，把网络流量随机的通过P2P的节点进行转发，这样可以掩盖源地址与目标地址的路径，使得在Internet上难以确定使用者的身份和地址。这就好像你送一封匿名信，不是自己送或者通过邮差送，而是大街上随便找一个不认识的人让他帮你送。具体来说就是在匿名信的外层套上许多层信封，每层信封上面都有一个随机的目的地。收到信件的人拆掉最外面的信封，再把里面的部分转发到下一个目的地。这样转发多次，收信方就很难往回找到真正的发信人。

**安全性**：2012年, Roger Dingledine 在一次采访中揭示了Tor网络是按照速度快慢的来选择节点路由的优先级的。因此，**大量的Tor的流量实际上是通过少量快节点进行传送的。**Tor的开发人员Mike Perry承认，Tor在对付“强大的有组织，有能力监控大量互联网流量”的攻击者（也就是政府）方面并不那么有效。这也就是为什么目前Tor的核心程序的版本还是0.2.x的原因。瑞典黑客 Dan Egerstad 认为，许多主要的Tor节点都是由情报机构或其它希望监听Tor网络上通信的组织运营。“我不喜欢猜测，但我要告诉大家这是可能的。如果你真的寻找到这些地方的Tor节点都在什么地方托管以及它们的花费，一些节点的每月花费数千美元，因为他们托管在大型主机上，使用大量的带宽。谁会匿名提供这样的支持呢? 你会发现，**6个这样的节点里有5个是在华盛顿。**”

[参考](https://www.cnblogs.com/straybirds/p/9110854.html)

# 硬件Bug

- [奔腾浮点除错误](https://zh.wikipedia.org/wiki/%E5%A5%94%E8%85%BE%E6%B5%AE%E7%82%B9%E9%99%A4%E9%94%99%E8%AF%AF)
- Intel Quark X1000 的`lock`指令[错误](https://en.wikipedia.org/wiki/Intel_Quark)。

# 水波纹特殊效果

<iframe class="MikumarkIframe" src="./html/水波纹特效.html" height="350px"></iframe>

水波纹特效是比较常见的一类特效。前段时间突然想知道这个特效是怎样实现的，便有了这篇文章。

最开始看到这个问题的时候，第一想法是使用正弦波的传播去模拟水波的传播，同时加上一定的衰减（指数衰减）去模拟真实的物理过程。然而运行的时候就傻眼了——动画极其卡顿，完全没有流畅的感觉。这显然是因为正弦、指数、乃至乘法操作耗费了大量的时间，如果是做实时渲染的特效，断然不可以使用这些复杂的函数。

这次失败的尝试，充分暴露出我毫无图形学素养的事实。因此，我开始搜索现成的解决方案[[1]](#参考资料)。

**建模**

水波是日常生活里司空见惯的物理现象，但实际上是非常复杂的。像我最开始那样，简单使用衰减的正弦波去模拟水波，尽管效果上比较类似，但那并不是物理事实。

从运动的效果入手去模拟物理现象，我认为这是一种运动学的方法。这只是在结果的层次上进行模拟，并不具有通用性，甚至在有些情况下很可能是错误的。

因此，合理的方法应该是对需要模拟的物理现象进行动力学的建模，从“原因”的层面上去模拟。由于只是模拟视觉效果，因此可以忽略许多物理细节，在保证效果的前提下，减少实现上的复杂性。

水波效果可以分成两个相继的问题去研究：一是对水波本身进行模拟，二是对水波折射水底景物的效果进行模拟。

**水波的动力学**

首先需要明确的一个常识是：波是能量的传播，而不是水中质点的传播（实际上水波的质点会沿着波的方向运动）。水中振动着的质点，由于液体内部的作用力，会带动其周围的质点一起运动，导致振动的能量以波源为中心向外传播。从宏观角度看，就体现为一圈水波。

如果把宽度为$W$的Canvas画布上的每个像素看成是振动着的质点，那么可以用$P_i$来表示从左上角开始的第$i$个质点，其对应的振幅记为$A_i$。$P_i$上下左右四个临点的振幅记为$A_{i1}$、$A_{i2}$、$A_{i3}$和$A_{i4}$，其中$i1 = i - W$、$i2 = i - 1$、$i3 = i + 1$、$i4 = i + W$。

假定①：经过一个时间单位后，$P_i$的振幅可以由以下递推方程所确定（其中$a$和$b$是待定系数）：

$$A_i' = a(A_{i1} + A_{i2} + A_{i3} + A_{i4}) + bA_i$$

假定②：不考虑阻尼的情况下，水波传播过程满足振幅守恒：

$$\sum{A_i'} = \sum{A_i}$$

需要注意的是，这并非能量守恒，而是为了计算方便而做的合理简化。实际上，按照以上两个假设，计算出的水波振幅实际上是不收敛的，即振幅虽然会上下振动，但绝对值会越来越大，直至无穷。

（待续）

**性能优化**

- 化乘除为移位。
- 避免频繁读写全局变量。
- 使用WebGL。

**参考资料**

+ [Canvas实现水波纹效果](http://uusama.com/643.html) | [GitHub](https://github.com/youyouzh/water_ripple)，本文主要借鉴了这篇文章，文章开头的演示沿用此文作者的代码。

# 三次握手

![ ](./image/G6/三次握手.png)

# 二进制反转

2016-09-08

在FFT算法中，有一步是对数组下标进行“码位倒置”，具体说来就是把一个数字的各二进制位倒过来写。

最直接的想法是使用移位操作将输入数字的各个二进制位提取出来，然后按照相反的顺序压入另一个数字。但是，如果设下标二进制位数为n，那么这种算法的时间复杂度是$O(n)$。

下面是一种更快、更适合硬件的“就地”码位倒置算法。对于八位无符号整数，只需要三步操作即可。

```:C
#include <stdio.h>

unsigned char bit_reverse(unsigned char i)
{
    unsigned char n = i;
    n = ( (n&0x55)<<1 ) | ( (n&0xaa)>>1 );
    n = ( (n&0x33)<<2 ) | ( (n&0xcc)>>2 );
    n = ( (n&0x0f)<<4 ) | ( (n&0xf0)>>4 );
    return n;
}

int main(void)
{
    unsigned char n = 0;

    while(1)
    {
        printf("Please input the number = ");
        scanf("%d", &n);
        n = bit_reverse(n);
        printf("The reversed number is  = %d\n", n);
    }

    return 0;
}
```

该算法可以将码位倒置算法的时间复杂度控制在$O(\mathrm {log}(n))$，挺机智的。

这个算法是在编写FFT算法的时候找到的。

**参考资料**

- [Bit-reversal permutation](https://en.wikipedia.org/wiki/Bit-reversal_permutation)
- [Bit Twiddling Hacks](http://graphics.stanford.edu/~seander/bithacks.html)

# 基于FFT的大数乘法算法

2018-09-10

大数乘法是很经典的一个问题，说简单也简单，说难也难。从最简单的错位相乘，到加入分治以提高效率，再到各种高效算法，是学习数值计算的很好的切入点。

大数乘法算法可以突破数据宽度的限制，保持运算结果的位数，因此在金融等场景中非常有用。在实现MikuRec解释器的时候，测试阶乘会遇到非常大的数字相乘，为了方便调试，打算使用大数相乘算法，取代JS语言提供的乘法。长远来看，这也有利于实现CAS之类的系统。

两个大整数相乘，本质上是卷积操作。卷积的时间复杂度是O(n<sup>2</sup>)。在数字位数很大的时候，效率不是很理想。

为了提高效率，可以利用卷积定理，通过快速傅里叶变换，将时间复杂度压缩到O(n*log(n))的级别。卷积定理指的是，两个序列卷积的傅里叶变换，等于两个序列傅里叶变换的按位相乘。因此，两个大数相乘，可以按照如下算法进行：

+ 对两个大数分别做FFT，得到两个新序列。
+ 两个序列按位相乘，得到傅里叶变换的乘积序列。这一步的时间复杂度是线性的。
+ 对乘积序列作傅里叶反变换，即为大数相乘结果。

FFT涉及浮点数运算，存在精度问题。如果使用不涉及浮点数运算的快速数论变换（NTT），就可以避免这个问题。

**参考资料**

+ [Schönhage–Strassen algorithm](https://en.wikipedia.org/wiki/Sch%C3%B6nhage%E2%80%93Strassen_algorithm)
+ [大数乘法（快速傅立叶变换）](https://blog.csdn.net/u013351484/article/details/48739415)
+ [FFT详解&大数乘法](https://blog.csdn.net/ripped/article/details/70241716)


# 睡眠排序和时序攻击

2018-03-27灵感：前段时间在知乎上偶然看到一些奇葩的#(排序)#算法，就很想写一篇笔记把它们记下来。其中一种是#(睡眠排序)#，相当佛系的一款排序算法。Tim排序是一款效率较高且稳定的排序算法，但是比较复杂。[这篇文章](http://www.freebuf.com/vuls/62129.html)讲得很好，值得一读。

众所周知JavaScript是一款以单线程异步为特色的语言，使用内置函数setTimeout很容易实现睡眠排序。但是，不论是V8引擎的事件循环，还是操作系统提供的多线程机制，精确延时都是不可能的（除非使用RTOS或者硬件定时器绕开操作系统的调度）。睡眠排序这一玩具算法可以帮助我们理解事件循环机制。点击下面的乱序数组，使用睡眠排序对其进行排序。为了体现出明显的排序错误，程序将100个相同的排序任务加入任务队列，每个排序任务以10~1000ms的周期反复执行。数组后面的数字是排序次数。不要点太多次，否则可能会卡住。

点击排序：<span style="color:\#558bc4;" class="sleep_sort_demo" onclick="let counter=0;for(let i=1;i<100;i++){setInterval(()=>{counter++;let a=\[9,1,8,2,7,3,6,4,5,10,0\];let sorted=\[\];a.forEach(function(e,i,a){setTimeout(()=>sorted.push(e),e+2);});setTimeout(function(){$('.sleep_sort_demo').html(JSON.stringify(sorted)+counter);},100);}, i*10);}">\[9,1,8,2,7,3,6,4,5,10,0\]</span>

有关时序攻击：[参考](https://www.zhihu.com/question/263893653/answer/280379706)

# fork炸弹

#(fork炸弹)#：见[维基百科](https://zh.wikipedia.org/wiki/Fork%E7%82%B8%E5%BC%B9)。

```
:(){ :|:& };:
```

# 基于大规模语料统计的新词发现

2017-10-16

> 本文是对顾森（Matrix67）文章 [http://www.csdn.net/article/2013-05-08/2815186]() 和 [http://www.matrix67.com/blog/archives/5044]() 的学习笔记

传统的新词发现方法有一个逻辑上的怪圈：新词发现依赖于分词结果，分词结果依赖于词库，然而新词并不存在于词库中，这样得到的“新词”结果就无法令人信任。为了跳出这个逻辑怪圈，基于大规模语料的新词发现方法抛弃了词库，对大规模语料中可能成词的片段进行分析，得到所有可能的分词结果，再与已有词库进行比对，得到新词。

**新词特征指标**

词是参与成句的最小完整单位。因此，判断一个短片段是否成词，需要从“最小”和“完整”两个方面入手。完整性显得更重要，因此首先考虑短片段组合的稳固程度。

**内部凝固度**

词是更细粒度的词稳定组合在一起形成的，因此使用**凝固度**这一指标衡量若干片段的组合出现的概率大小。

- 对于可能成词AB的片段A和B，两者的出现频率$P(A)$和$P(B)$。
- 若二者并不成词，也即在文本中完全随机出现，则词AB在文本中出现的概率应为$P(A)\cdot P(B)$。
- 而文本中AB的实际出现频率为$P(AB)$：若$P(AB)$远高于$P(A)\cdot P(B)$，那么可初步认为AB是一个成词组合。

按照这个标准，很容易找到诸如“忐忑”、“蜘蛛”、“蟑螂”、“彷徨”这样的双字**联绵词**，因为联绵词中单字单独出现的概率极低。

对于多字词而言，有多种划分片段的方式。划分方式不同，按照上述方法计算得到的$P(A)\cdot P(B)$就截然不同。

> 作为一个无知识库的抽词程序，我们并不知道“电影院”是“电影”加“院”得来的……如果我们把“电影院”看作是“电”加“影院”所得，由此得到的凝合程度会更高一些。

因此，并不能简单地用某一种划分计算得到的$P(A)\cdot P(B)$作为新词内部凝固度指标，而应枚举各种划分方式，选出**最小**的$P(A)\cdot P(B)$，计算$P(AB)$与$P(A)\cdot P(B)$的比值，作为可用的凝固度指标。凝固度指标实际上就是互信息。

> 在整个2400万字的数据中，“电影”一共出现了2774次，出现的概率约为0.000113。“院”字则出现了4797次，出现的概率约为0.0001969。如果两者之间真的毫无关系，它们恰好拼在了一起的概率就应该是0.000113×0.0001969=2.223E–8。但事实上，“电影院”在语料中一共出现了175次，出现概率约为7.183E–6，是预测值的300多倍。

> 类似地，统计可得“的”字的出现概率约为0.0166，因而“的”和“电影”随机组合到了一起的理论概率值为0.0166×0.000113=1.875E–6，这与“的电影”出现的真实概率很接近——真实概率约为1.6E–5，是预测值的8.5倍。

**运用自由度**

内部凝合并不是判断文本片段是否成词的充分条件。如果只考虑内部凝合度的话，并不能确定新词的外部边界，得到的新词很可能会“偏短”。例如：

> 考虑“被子”和“辈子”这两个片段。我们可以说“买被子”、“盖被子”、 “进被子”、“好被子”、“这被子”等，在“被子”前面加各种字；但“辈子”的用法却非常固定，除了“一辈子”、“这辈子”、“上辈子”、“下辈子”，基 本上“辈子”前面不能加别的字了。“辈子”这个文本片段左边可以出现的字太有限，以至于直觉上我们可能会认为，“辈子”并不单独成词，真正成词的其实是 “一辈子”、“这辈子”之类的整体。

因此，判断一个片段是否为新词，除了其内部的具有稳定的结构之外，它本身要足够“自由”去参与成句。换句话说就是，片段的左侧和右侧出现的词汇要有足够大的多样性。

描述“多样性”的指标就是**熵**。对于一个随机系统而言，它的每个状态都蕴含了一定的信息量，状态发生的概率越低，状态提供的信息量就越大。对系统中所有状态具备的信息量按发生概率进行加权平均，就得到了系统的信息熵。也就是说，信息熵是系统信息量的期望。信息熵越高，意味着系统内部的状态越丰富、系统越混乱；信息熵越低，意味着系统内部的状态越贫乏、系统越规律。

新词运用自由度的计算方法如下：

+ 提取左邻字和右邻字集合；
+ 计算每个左右邻字的出现频率并计算左右邻字信息熵；
+ 取二者较小者作为运用自由度指标。

之所以要取二者较小者作为自由度指标，是因为有些词具有固定前（后）缀的特性，例如“共产”（共产党、共产主义…）、“清华”（清华大学、清华学子…）、“夫斯基”这样的后缀词，而这样的词显然是不成词的。

> 在实际运用中你会发现，文本片段的凝固程度和自由程度，两种判断标准缺一不可。只看凝固程度的话，程序会找出“巧克”、“俄罗”、“颜六色”、“柴可夫”等实际上是“半个词”的片段；只看自由程度的话，程序则会把“吃了一顿”、“看了一遍”、 “睡了一晚”、“去了一趟”中的“了一”提取出来，因为它的左右邻字都太丰富了。

# 编辑距离

2018-08-15

<iframe class="MikumarkIframe" src="./html/编辑距离.html" height="300px"></iframe>

[维基百科](https://en.wikipedia.org/wiki/Levenshtein_distance)

递推公式：

![式子中$1_{(a_i \neq b_j)}$意思是：若不等则为1，反之为0。](https://wikimedia.org/api/rest_v1/media/math/render/svg/4520f5376b54613a5b0e6c6db46083989f901821)

# Nagao串频统计算法

2017-10-16

<iframe class="MikumarkIframe" src="./html/Nagao串频统计算法.html" height="100px"></iframe>

词是全文数据中的短小字符序列。下述算法是京都大学的Makoto Nagao于1994年在参考文献[1]中提出的，该算法可以统计全文数据中所有可能的短串及其出现频率。

**算法说明**

1.将文本全文（保留标点、换行等分隔符）读入线性表，形成字符串`S[1:Len]`，字符串长度为`Len`。

```
index  1 2 3 4 5 6 7
    S  庭院深深深几许
```

2.构造指针表`P[1:Len]`：`P[i]`的内容是`i`，代表`S`的后缀子串`S[i:Len]`。

```
index  1 2 3 4 5 6 7
    S  庭院深深深几许

 P[1]  庭院深深深几许
 P[2]    院深深深几许
 P[3]      深深深几许
 P[4]        深深几许
 P[5]          深几许
 P[6]            几许
 P[7]              许
```

3.对所有后缀子串按字典序排序，得到排序后的指针表`PO[j]`。排序采用快速排序，时间复杂度可控制在$O({Len} \log ({Len}))$。

```
     index  1 2 3 4 5 6 7
         S  庭院深深深几许

PO[1] P[6]  几许
PO[2] P[5]  深几许
PO[3] P[4]  深深几许
PO[4] P[3]  深深深几许
PO[5] P[1]  庭院深深深几许
PO[6] P[7]  许
PO[7] P[2]  院深深深几许
```

4.构造“公共前缀串长”表`C[1:Len]`：`C[i]`的内容是`PO[i]`与`PO[i-1]`的①最长②相同③前缀串④的**长度**。特别地，`P[1]`取0。

```
        index  1 2 3 4 5 6 7
            S  庭院深深深几许

C[1] 0  PO[1]  几许
C[1] 0  PO[2]  深几许
C[1] 1  PO[3]  深深几许
C[1] 2  PO[4]  深深深几许
C[1] 0  PO[5]  庭院深深深几许
C[1] 0  PO[6]  许
C[1] 0  PO[7]  院深深深几许
```

5.开始进行串频统计。操作步骤如下：

```
数据结构：S、PO、C，以及存放串频的结果Map
输入：候选词长度N
输出：串频结果Map
1. 取PO[1]的N前缀PN[1]，将<PN[1],1>放入Map；
2. 取PO[i]的N前缀PN[i]：
     若C[i]≥N，则将<PN[i],++>放入Map；（++是自增1函数）
     若C[i]<N，则将<PN[i],1>放入Map；
3. 反复执行2，直到遍历完PO表。
4. 此时得到的Map就是词频统计结果。
```

输入不同的N值，多次执行此步骤，即可得到对“庭院深深深几许”的词频统计结果：

```
庭院   1
院深   1
深深   2
深几   1
几许   1
许     1
庭院深 1
院深深 1
……
```

**参考文献**

+ Nagao M, Mori S. A New Method of N-gram Statistics for Large Number of n and Automatic Extraction of Words and Phrases from Large Text Data of Japanese[J]. Proceedings of Coling, 1994, 1:611-615.
+ 作者不详. Nagao的串频统计算法\[Z/OL\]. [https://wenku.baidu.com/view/9545a9d24431b90d6d85c727.html](), 2015.

# 极大团算法

2018-11-23

团（clique）指的是无向图的完全子图。其中，如果某个团不是任何其他团的子图，则为**极大团**。顶点数最多的团，称为**最大团**。求取最大团/极大团的算法往往需要耗费指数级时间，目前尚未找到多项式时间的算法，因而是NP完全问题。使用启发式算法，可以减少一部分时间复杂度，但是没有本质提升。团算法在许多领域都有用处。例如，朋友圈实际上就是团。在生物信息学中，需要利用团算法解决重复序列的问题。前段时间在工作中遇到了类似的问题，因此在这里写个简单的Demo，记录一下。

**问题**：现有一段核酸序列，其上有限制酶A的切割位点3个。使用A处理后，可得到10种长短不一的片段（如下图）。问可以得到的互不重叠的片段组合有哪些？

![ ](./image/G6/dna-cut.png)

从0~9给片段编号，显然，[0,1,2,3]是可能的一种方案，因为它们**两两都没有重叠**。因此，可以将片段间的“不重叠”关系构造成图，求出这个图的所有极大团，就是所有可能的互不重叠的片段组合了。（注：“不重叠”关系是反自反、对称、反传递的关系，因而体现为无向图。）

使用JavaScript实现，计算得到极大团为：

<span id="maximal_cliques"></span>

**算法**：最简单的方法当然是暴力地穷举出所有子图，然后逐一检查，这一方案的时间复杂度是指数级的。但是，有很多“显然”的情况是不需要枚举的，这就是剪枝。

于是很容易想到一个策略：首先假设最开始的团是空的，从0节点开始，将其加入候选团，然后遍历剩余所有节点：如果某节点可以与候选团形成团，则加入候选团，然后继续遍历剩余节点；如果不可以（剪枝），就抛弃掉，并回溯到上一个成团的节点。这实际上是按照深度优先的策略对解空间树进行遍历的过程。

按照这个方法，可以求解出所有可能的团，称为平凡团。如果需要求极大团，则对所有的平凡团按照子集关系进行合并，最终留下互不包含的若干个团，即为极大团。取顶点数最多的（若干个）极大团，即为最大团。

**后记**：极大团算法其实是比较困难的算法，难就难在时间复杂度超高，问题规模稍微大一点就不能用。作为NP完全问题，此问题在理论上的意义也很重大。不过暂时没有兴趣进一步研究这个问题，浅尝辄止就好。问题的关键在于，如何把新遇到的问题，转化到已有的问题上去。

**参考资料**

+ [最大团问题和图的m着色问题](https://blog.csdn.net/liufeng_king/article/details/8781554)
+ [The Clique Algorithm](http://www.dharwadker.org/clique/)


# 数据、知识、智慧与阴谋论

![收集于2020-08-16](./image/G5/数据-知识-智慧-阴谋论.png)

# 坎宁安定律

整理时间2021.1.31，[坎宁安定律](https://meta.wikimedia.org/wiki/Cunningham%27s_Law/zh)。

在互联网上获得正确答案的最佳方法并不是去提问，而是去发布一个错误的答案。

# 数据备份的“321原则”

整理时间2020.5.2，[参考](http://bbs.chinastor.com/thread-539-1-1.html)。

- 3份备份数据。
- 2种不同媒介。
- 留1份在异地。

# 电子书的处理方法

![ ](./image/G5/电子书的处理方法.png)

# CAJ·PDF·DjVu

- [caj格式迄今存在的意义和作用是什么？](https://www.zhihu.com/question/360158916/answer/931406313)

# 共有知识·公共知识

问：第三次总统辩论时，希拉里提到“总统按下核弹头按钮之后四分钟核弹就会发射”，这么说是否泄露机密？

答：希拉里的这番话是将“四分钟”这个共有知识变成了公共知识。

- **N阶知识**（记为K(n)）递归定义如下：K(1)=A知道P，K(n+1)=A知道K(n)
- **无穷高阶知识**：即K(∞)。
- **共有知识**：群体中每个人都知道的知识，但是每个人都未必知道其他人是否知道，也不知道其他人是否知道自己知道。
- [**公共知识**](https://wiki.mbalib.com/wiki/%E5%85%AC%E5%85%B1%E7%9F%A5%E8%AF%86)：群体的无穷高阶知识，也就是每个人都知道每个人都知道…每个人都知道P。

参考资料：

- [维基百科 Common knowledge](https://en.wikipedia.org/wiki/Common_knowledge_\(logic\))
- [蓝眼岛民问题](https://terrytao.wordpress.com/2008/02/05/the-blue-eyed-islanders-puzzle/)
- [共有知识与公共知识到底有什么区别](https://www.zhihu.com/question/22333045)
- [有哪些看似很傻，实则聪明的行为？](https://www.zhihu.com/question/60809486/answer/254360593)

# GB/T 7714 实施说明：关于文献类型代码

- M包括小册子、单行本
- C、G、N、EB一般不用
- J除期刊论文外，还包括各类来路不明的，但是按照论文格式撰写的文章
- R包括胶片、讲义等，还包括各类名为“白皮书”“报告”的材料
- DB还包括语料、数据
- 不使用载体代码

![GB/T 7714 附录](./image/G5/GBT7714文献类型代码.png)

# 藏本模型

- 时间：2020-12-17
- 参考1：[维基百科](https://zh.wikipedia.org/wiki/%E8%97%8F%E6%9C%AC%E6%A8%A1%E5%9E%8B)
- 参考2：[视频](https://weibo.com/3176804502/JyuTd8JCj)

藏本模型，是一种描述耦合振子同步的模型。藏本模型（Kuramoto model）是一种用来描述同步的数学模型，由日本物理学家藏本由纪首先提出。具体说来，它描述了大量耦合振子的同步行为。这个模型原本是为了描述化学振子、生物振子而构建，后发现具有广泛的应用，例如神经振荡，以及振荡火焰的动力学。惊人的是，一些物理系统的行为也符合这个模型，比如耦合约瑟夫森结的阵列。这个模型假设，所有振子都是完全相同的或几乎完全相同的，相互之间的耦合很弱、并且任意两个振子之间的相互作用强度取决于它们相位差的正弦。

# CMOS尺寸度量

整理于2020.5.2，[来源](https://blog.csdn.net/u010653400/article/details/78050494/)，[参考](https://en.wikipedia.org/wiki/Image_sensor_format)。

**所谓“1英寸CMOS”的对角线长度为16mm，而不是25.4mm。**

这大概要追溯到二十世纪五、六十年代电子成像技术刚开始的时代吧。那时早期的电视摄像机使用的感光元件是真空管。真空管的外面是有个玻璃罩子的，真空管外径是把玻璃厚度也算进去的，玻璃管当然是不能用于成像的，外径1英寸的真空管，实际成像区域只有16mm左右，于是16mm就成了电子摄像照相行业一个约定俗成的度量单位。这种度量方式一直继承了下来，我们现在所接触到的CCD尺寸的说法是参考传统摄像机内的真空摄像管的对角线长短来衡量的，它严格遵守了 Optical Format 规范，其数值称为OF值，单位为英寸。

# 光盘光斑尺寸对比

![ ](./image/G8/光盘光斑尺寸对比-Wiki.png)

# 光盘激光头光路

![ ](./image/G8/激光头光路图.png)

# Lena原图

![ ](./image/G7/Lena原图.jpg)

# 老烧话术

- 日期：2020-09-30
- 参考：知乎用户麦文学的回答

名词：声场、韵味、做工、潜力、线材、前端、密度、距离、氛围、素质、涵养、气势、缺陷、信息量、权衡、储备、控制力、对冲、理念、感觉、感情、风格、升级、瓶颈、硬伤、推力、感染力、境界、人品、时钟、jitter、解析、黑胶、修行、结像、听感、厚度、线性电源、色彩、动态、瞬态、微动态、墙插、避震、动态压缩、重心、泛音、走向、地盒、电处、古河、见识、单晶铜、单晶银、风味、几条街、我朋友、特氟龙、亚克力、麦拉电容、飞秒、听音观、分离度、完成度、稳定度、空气感、厅堂感、黄昏感、松香味、奶油味、音乐味、爆发力

形容词：高端、单薄、紧致、靠前、宽松、从容、大气、严肃、收敛、热情、中性、平衡、惊人、耐听、鲜活、直白、年轻、惊喜、惊艳、全方位的、略胜一筹、杂食、通透、旗舰级、喂不饱、手工制作、一脉相承、纤毫毕现、活灵活现、发自内心、大编制、背景更黑、镀铑、金封、一耳朵、立杆见影、脱胎换骨

动词：修饰、优化、调音、吊打、推好、煲、秒杀、提升、搭配、营造、开声、填补、刻画、中毒、眼睛一亮

短语：盲听不科学、键盘科学家、学习的态度、耳朵收货、换线如换机、换胆如换机、见仁见智、自己喜欢最重要、听着舒服、一不做二不休、买买买、别具一番风味、讨厌开关电源、各有各的玩法、换了XXX效果明显、我以前也不信

# HP 39gs 计算器

![惠普的 Saturn SoC](https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/HP_Saturn_1LT8_Clarke.tif/lossy-page1-1024px-HP_Saturn_1LT8_Clarke.tif.jpg)

HP 39gs 计算器功能强大，但价格非常低廉，一个重要的原因就是它的性能很差。为什么性能差呢？是因为早期的HP计算器采用自研Saturn单片机，其程序也是基于Saturn编写的。后来考虑到成本等各方面原因，新产品换用ARM单片机，但是程序就需要完全重写。为了避免重写，HP在ARM上跑了一个Saturn的模拟机，用模拟机运行原来的计算器程序，这就导致39gs性能奇差。至于洋垃圾什么的，那都是其他的因素了，不过便宜倒是真的。

# 标幺值

电气工程术语，英文 per unit，简称p.u.，意思是物理量的相对值，即有名值和基准值的比值。 ​​​​

# 第一个集成电路

基尔比制造的第一个集成电路：相移振荡器

![ ](./image/G8/Kilby-IC.png)

+ [人类历史上第一个集成电路使用什么仪器制作的？](https://www.zhihu.com/question/51927758/answer/129057832)
+ 基尔比的集成电路专利：[Method of making miniaturized electronic circuits](https://patents.google.com/patent/US3261081A/en)

# 手机工程模式

|手机型号|代码|功能|
|-----------------|
|松下X200|*#9999#|开机后5秒内输入，软硬件版本|
|松下X200|52824**|隐藏菜单，但是不可进入|
|诺基亚|*#0000#|系统信息|
|诺基亚|\*\#92702689\#|意思大概是*#war0anty#|

# 显像管电视的高频声音

- 国内的电视机遵循PAL-D制式标准。
- PAL制式的视频分辨率是720×576，每秒25帧。由于隔行扫描的原因，每一帧画面分为两场进行扫描，每场耗费312.5行扫描时间，正程287.5行扫描时间，逆程25行扫描时间，所以扫描575行需要625行扫描时间，场频正好是两倍帧率。所以对于PAL制式CRT电视来说，行频=312.5×2×25=15.625kHz。
- 由于线圈等元件的工艺问题，在这个频率下免不了发生一些机械振动，听到的便是这个频率的声音。
- 电脑CRT显示器也会有类似的噪音，但显示器分辨率和刷新率较高，比如17寸CRT普遍的1024×768@85Hz，行频已经超过了65kHz，人耳是不可能听到的。（[来源](https://www.zhihu.com/question/55612873/answer/151940491)）

#!style

#!script

#!script:./script/clique.js

const a = [
//   0  1  2  3  4  5  6  7  8  9
    [0, 1, 1, 1, 0, 1, 1, 0, 1, 0],
    [1, 0, 1, 1, 0, 1, 0, 0, 0, 0],
    [1, 1, 0, 1, 1, 0, 0, 0, 0, 0],
    [1, 1, 1, 0, 1, 0, 1, 1, 0, 0],
    [0, 0, 1, 1, 0, 1, 0, 0, 0, 0],
    [1, 1, 0, 0, 1, 0, 0, 0, 0, 0],
    [1, 0, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
];
let g = new Graph(10, a);
$('#maximal_cliques').html(JSON.stringify(g.calculateMaximalCliques()));

